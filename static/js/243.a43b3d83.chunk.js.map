{"version":3,"file":"static/js/243.a43b3d83.chunk.js","mappings":"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","sources":["components/Movies/Movies.styled.js","pages/MoviesPage.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const SearchBar = styled.div`\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 999;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: ${p => p.theme.spacing(6)};\n  padding-left: ${p => p.theme.spacing(6)};\n  padding-top: ${p => p.theme.spacing(3)};\n  padding-bottom: ${p => p.theme.spacing(3)};\n`;\n\nexport const SearchForm = styled.form`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: ${p => p.theme.colors.white};\n  border: 2px solid ${p => p.theme.colors.green};\n  border-radius: 6px;\n  overflow: hidden;\n`;\n\nexport const SearchFormButton = styled.button`\n  width: 48px;\n  height: 48px;\n  padding: ${p => p.theme.spacing(2)};\n  background-color: ${p => p.theme.colors.lightGreen};\n  border: none;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.2, 0, 0.2, 1);\n  &:hover {\n    opacity: 1;\n  }\n`;\n\nexport const SearchInput = styled.input`\n  display: inline-block;\n  width: 100%;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: ${p => p.theme.spacing(1)};\n  padding-right: ${p => p.theme.spacing(1)};\n  &::placeholder {\n    font-size: 18px;\n  }\n`;\n\nexport const MovieContainer = styled.div`\n  padding: ${p => p.theme.spacing(3)};\n`;\n\nexport const SearchList = styled.ul`\n  display: flex;\n  flex-direction: column;\n  gap: ${p => p.theme.spacing(3)};\n`;\n\nexport const SearchMovieTitle = styled.h3`\n  &:hover {\n    color: ${p => p.theme.colors.green};\n  }\n`;\n","import { CgSearchLoading } from 'react-icons/cg';\nimport { useState } from 'react';\nimport { NavLink, useSearchParams } from 'react-router-dom';\n\nimport {\n  SearchBar,\n  SearchForm,\n  SearchFormButton,\n  SearchInput,\n  SearchList,\n  SearchMovieTitle,\n  MovieContainer,\n} from '../components/Movies/Movies.styled';\nimport { apiSearchMovies } from 'api';\nimport { MovieLoader } from '../components/Loader/Loader';\n\nexport default function MoviesPage() {\n  const [searchValue, setSearchValue] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isError, setIsError] = useState(false);\n  const [, setSearchParams] = useSearchParams();\n\n  const handleSearch = async value => {\n    try {\n      setIsLoading(true);\n      const results = await apiSearchMovies(value);\n      setSearchResults(results);\n      setSearchParams({ query: value });\n      setIsError(false);\n    } catch (error) {\n      setIsError(true);\n    } finally {\n      setIsLoading(false);\n      setIsError(false);\n    }\n  };\n\n  const handleSubmit = value => {\n    setSearchParams({ query: value });\n    handleSearch(value);\n  };\n\n  return (\n    <>\n      <SearchBar>\n        <SearchForm\n          onSubmit={event => {\n            event.preventDefault();\n            const searchValue = event.target[1].value;\n            if (searchValue) {\n              handleSubmit(searchValue);\n              event.target[1].value = '';\n            }\n          }}\n        >\n          <SearchFormButton type=\"submit\">\n            <CgSearchLoading style={{ height: 30, width: 30 }} />\n          </SearchFormButton>\n          <SearchInput\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search movies\"\n            value={searchValue}\n            onChange={e => setSearchValue(e.target.value)}\n          />\n        </SearchForm>\n      </SearchBar>\n\n      {isLoading && <MovieLoader />}\n\n      {isError && <div>Ooops! Error during search</div>}\n      {searchResults.length > 0 && (\n        <MovieContainer>\n          <SearchList>\n            {searchResults.map(movie => (\n              <li key={movie.id}>\n                <NavLink to={`/movies/${movie.id}`}>\n                  <SearchMovieTitle>{movie.title}</SearchMovieTitle>\n                </NavLink>\n              </li>\n            ))}\n          </SearchList>\n        </MovieContainer>\n      )}\n    </>\n  );\n}\n"],"names":["SearchBar","styled","_templateObject","_taggedTemplateLiteral","p","theme","spacing","SearchForm","_templateObject2","colors","white","green","SearchFormButton","_templateObject3","lightGreen","SearchInput","_templateObject4","MovieContainer","_templateObject5","SearchList","_templateObject6","SearchMovieTitle","_templateObject7","MoviesPage","_useState","useState","_useState2","_slicedToArray","searchValue","setSearchValue","_useState3","_useState4","searchResults","setSearchResults","_useState5","_useState6","isLoading","setIsLoading","_useState7","_useState8","isError","setIsError","_useSearchParams","useSearchParams","setSearchParams","handleSearch","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","value","results","_context","prev","next","apiSearchMovies","sent","query","t0","finish","stop","_x","apply","arguments","_jsxs","_Fragment","children","_jsx","onSubmit","event","preventDefault","target","type","CgSearchLoading","style","height","width","autoComplete","autoFocus","placeholder","onChange","e","MovieLoader","length","map","movie","NavLink","to","concat","id","title"],"sourceRoot":""}